<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Basic Usage | Nova ACL</title>
    <meta name="generator" content="VuePress 1.9.7">
    
    <meta name="description" content="Laravel Nova ACL">
    <meta name="theme-color" content="#3eaf7c">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    
    <link rel="preload" href="/nova-acl/assets/css/0.styles.c2589020.css" as="style"><link rel="preload" href="/nova-acl/assets/js/app.b79ab001.js" as="script"><link rel="preload" href="/nova-acl/assets/js/2.63c13255.js" as="script"><link rel="preload" href="/nova-acl/assets/js/13.4fa6d40d.js" as="script"><link rel="prefetch" href="/nova-acl/assets/js/10.d4ab1892.js"><link rel="prefetch" href="/nova-acl/assets/js/11.bd4d311b.js"><link rel="prefetch" href="/nova-acl/assets/js/12.f65d6ac8.js"><link rel="prefetch" href="/nova-acl/assets/js/14.e887c63e.js"><link rel="prefetch" href="/nova-acl/assets/js/3.2f9dfbc7.js"><link rel="prefetch" href="/nova-acl/assets/js/4.832274fd.js"><link rel="prefetch" href="/nova-acl/assets/js/5.e457cf98.js"><link rel="prefetch" href="/nova-acl/assets/js/6.8d81f0ec.js"><link rel="prefetch" href="/nova-acl/assets/js/7.159f2f50.js"><link rel="prefetch" href="/nova-acl/assets/js/8.274990b3.js"><link rel="prefetch" href="/nova-acl/assets/js/9.6a63ad8e.js">
    <link rel="stylesheet" href="/nova-acl/assets/css/0.styles.c2589020.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/nova-acl/" class="home-link router-link-active"><!----> <span class="site-name">Nova ACL</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/nova-acl/guide/" class="nav-link router-link-active">
  Guide
</a></div><div class="nav-item"><a href="https://github.com/rezamasoudi/nova-acl" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Github
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/nova-acl/guide/" class="nav-link router-link-active">
  Guide
</a></div><div class="nav-item"><a href="https://github.com/rezamasoudi/nova-acl" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Github
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>Guide</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/nova-acl/guide/" aria-current="page" class="sidebar-link">Introduction</a></li><li><a href="/nova-acl/guide/install.html" class="sidebar-link">How to install</a></li><li><a href="/nova-acl/guide/usage.html" aria-current="page" class="active sidebar-link">Basic Usage</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/nova-acl/guide/usage.html#register-acl-menu" class="sidebar-link">Register acl menu</a></li><li class="sidebar-sub-header"><a href="/nova-acl/guide/usage.html#authorize-nova-resources" class="sidebar-link">Authorize nova resources</a></li><li class="sidebar-sub-header"><a href="/nova-acl/guide/usage.html#relationships" class="sidebar-link">Relationships</a></li></ul></li><li><a href="/nova-acl/guide/commands.html" class="sidebar-link">Command line interface</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="basic-usage"><a href="#basic-usage" class="header-anchor">#</a> Basic Usage</h1> <p>Follow the steps below to use the package</p> <h2 id="register-acl-menu"><a href="#register-acl-menu" class="header-anchor">#</a> Register acl menu</h2> <p>If you need the Roles and Permissions menu, you should register its tool in <code>NovaServiceProvider</code></p> <div class="language-php extra-class"><pre class="language-php"><code>    <span class="token keyword">use</span> <span class="token package">Masoudi<span class="token punctuation">\</span>NovaAcl<span class="token punctuation">\</span>Tools<span class="token punctuation">\</span>RegisterAclMenu</span><span class="token punctuation">;</span>
    
    <span class="token operator">...</span>
    <span class="token comment">/**
     * Get the tools that should be listed in the Nova sidebar.
     *
     * @return array
     */</span>
    <span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function-definition function">tools</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token punctuation">[</span>
            <span class="token class-name static-context">RegisterAclMenu</span><span class="token operator">::</span><span class="token function">make</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token operator">...</span>
</code></pre></div><h2 id="authorize-nova-resources"><a href="#authorize-nova-resources" class="header-anchor">#</a> Authorize nova resources</h2> <p>By default, Laravel Nova uses Policy based authorization for Nova resources. If you are using the Spatie Permission
library, it is very likely that you would want to swap this out to permission based authorization without the need to
define Authorization policies.</p> <p>To do so, you can use the <code>InteractsWithACL</code> trait and implement <code>ACL</code> interface in Nova resource class like so</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token keyword">use</span> <span class="token package">Masoudi<span class="token punctuation">\</span>NovaAcl<span class="token punctuation">\</span>Support<span class="token punctuation">\</span>Contracts<span class="token punctuation">\</span>ACL</span><span class="token punctuation">;</span>
<span class="token keyword">use</span> <span class="token package">Masoudi<span class="token punctuation">\</span>NovaAcl<span class="token punctuation">\</span>Support<span class="token punctuation">\</span>InteractsWithACL</span><span class="token punctuation">;</span>

<span class="token keyword">class</span> <span class="token class-name-definition class-name">Post</span> <span class="token keyword">extends</span> <span class="token class-name">Resource</span> <span class="token keyword">implements</span> <span class="token class-name">ACL</span> 
<span class="token punctuation">{</span>
    <span class="token keyword">use</span> <span class="token package">InteractsWithACL</span><span class="token punctuation">;</span>
    
    <span class="token comment">/**
    * Permissions for abilities
    *
    * @return array
    */</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">function</span> <span class="token function-definition function">permissionsForAbilities</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span> <span class="token keyword return-type">array</span>
    <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token punctuation">[</span>
            <span class="token string single-quoted-string">'all'</span> <span class="token operator">=&gt;</span> <span class="token string double-quoted-string">&quot;manage posts&quot;</span><span class="token punctuation">,</span>
        <span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    
<span class="token punctuation">}</span>
</code></pre></div><p>The example above means that all actions on this resource can be performed by users who have the &quot;manage posts&quot;
permission.</p> <p>You can also define separate permissions for each action like so</p> <div class="language-php extra-class"><pre class="language-php"><code>    <span class="token comment">/**
    * Permissions for abilities
    *
    * @return array
    */</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">function</span> <span class="token function-definition function">permissionsForAbilities</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span> <span class="token keyword return-type">array</span>
    <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token punctuation">[</span>
            <span class="token string single-quoted-string">'viewAny'</span> <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">'view posts list'</span><span class="token punctuation">,</span>
            <span class="token string single-quoted-string">'view'</span> <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">'view post'</span><span class="token punctuation">,</span>
            <span class="token string single-quoted-string">'create'</span> <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">'create post'</span><span class="token punctuation">,</span>
            <span class="token string single-quoted-string">'update'</span> <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">'update post'</span><span class="token punctuation">,</span>
            <span class="token string single-quoted-string">'delete'</span> <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">'delete post'</span><span class="token punctuation">,</span>
            <span class="token string single-quoted-string">'restore'</span> <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">'restore post'</span><span class="token punctuation">,</span>
            <span class="token string single-quoted-string">'forceDelete'</span> <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">'forceDelete post'</span><span class="token punctuation">,</span>
            <span class="token string single-quoted-string">'addAttribute'</span> <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">'add post attributes'</span><span class="token punctuation">,</span>
            <span class="token string single-quoted-string">'attachAttribute'</span> <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">'attach post attributes'</span><span class="token punctuation">,</span>
            <span class="token string single-quoted-string">'detachAttribute'</span> <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">'detach post attributes'</span><span class="token punctuation">,</span>
        <span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
</code></pre></div><h2 id="relationships"><a href="#relationships" class="header-anchor">#</a> Relationships</h2> <p>To allow your users to specify a relationship on your model, you will need to add another permission on the Model.
For example, if your Post belongs to User, add the following permission on <code>app/Nova/User.php</code></p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token keyword">use</span> <span class="token package">Masoudi<span class="token punctuation">\</span>NovaAcl<span class="token punctuation">\</span>Support<span class="token punctuation">\</span>Contracts<span class="token punctuation">\</span>ACL</span><span class="token punctuation">;</span>
<span class="token keyword">use</span> <span class="token package">Masoudi<span class="token punctuation">\</span>NovaAcl<span class="token punctuation">\</span>Support<span class="token punctuation">\</span>InteractsWithACL</span><span class="token punctuation">;</span>

<span class="token keyword">class</span> <span class="token class-name-definition class-name">User</span> <span class="token keyword">extends</span> <span class="token class-name">Resource</span> <span class="token keyword">implements</span> <span class="token class-name">ACL</span> 
<span class="token punctuation">{</span>
    <span class="token keyword">use</span> <span class="token package">InteractsWithACL</span><span class="token punctuation">;</span>
    
    <span class="token comment">/**
    * Permissions for abilities
    *
    * @return array
    */</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">function</span> <span class="token function-definition function">permissionsForAbilities</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span> <span class="token keyword return-type">array</span>
    <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token punctuation">[</span>
            <span class="token string single-quoted-string">'addPost'</span> <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">'add user on posts'</span>
        <span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/nova-acl/guide/install.html" class="prev">
        How to install
      </a></span> <span class="next"><a href="/nova-acl/guide/commands.html">
        Command line interface
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/nova-acl/assets/js/app.b79ab001.js" defer></script><script src="/nova-acl/assets/js/2.63c13255.js" defer></script><script src="/nova-acl/assets/js/13.4fa6d40d.js" defer></script>
  </body>
</html>
